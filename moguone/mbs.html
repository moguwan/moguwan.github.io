<!DOCTYPE html>
<html lang="zh-CN" data-theme-mode="auto">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MY HOME 个人主页">
    <meta keywords="Homepage,JavaTool,个人主页">
    <meta name="author" content="MY HOME">
    <title>MY HOME - 个人荣誉墙</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Mulish:400,700%7CNoto%20Serif%20SC:400,700&display=swap" rel="stylesheet">
    <link rel="preload" href="//at.alicdn.com/t/c/font_4552607_0khxww3tj3q9.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/dmego-home-page@latest/assets/css/iconfont.css">
    <style>
        * {margin: 0;padding: 0;box-sizing: border-box;}
        body {
            font-family: "Mulish", "Noto Serif SC", "Microsoft YaHei", "PingFang SC", sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            color: #ddd;
            scroll-behavior: smooth;
            opacity: 1;
            background: url(https://img.wjwj.top/2026/01/16/35e5341f019957700328b5384d095984.png) no-repeat fixed center top 10%;
            background-size: cover;
            display: flex;
            flex-direction: column;
            position: relative;
            padding-bottom: 70px;
            -webkit-font-smoothing: antialiased;
            position: relative;
            z-index: 1;
        }
        body::before {
            content: "";
            position: fixed;
            top: 0;left: 0;right:0;bottom:0;
            background: linear-gradient(rgba(15, 18, 26, 0.9),rgba(15, 18, 26, 0.85));
            backdrop-filter: blur(2px);-webkit-backdrop-filter: blur(2px);
            z-index: -1;
        }
		/* ========== 新增：图片懒加载占位图 解决加载闪烁 ========== */
		.card-img {
		    background: rgba(255,255,255,0.03); /* 占位灰色背景，和你的风格统一 */
		    transition: all 0.3s ease;
		}
		.card-img.loading {
		    background: rgba(255,255,255,0.03) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23999' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M21 12a9 9 0 1 1-9-9 9.75 9.75 0 0 1 6.74 2.74L21 8'/%3E%3Cpath d='M21 3v5h-5'/%3E%3C/svg%3E") no-repeat center center;
		}
        .snowflake {
            position: fixed;
            color: #fff;
            font-size: 12px;
            text-shadow: 0 0 5px rgba(255,255,255,0.8);
            pointer-events: none;
            z-index: 2;
            animation: snowfall linear infinite;
            opacity: 0.7;
        }
        @keyframes snowfall {
            0% { transform: translateY(-10px) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; }
            90% { opacity: 0.8; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        a {text-decoration: none; color: inherit;}
        ul {list-style: none;}
        img {max-width: 100%; border-radius: 8px;}
        .rotate {transition: transform 6s ease-in-out infinite;}
        .rotate:hover {transform: rotate(360deg);}
        
        /* ========== 和首页完全一致的滚动渐入动画 核心样式 ========== */
        [data-aos] {
            opacity: 0.01;
            transform: translateY(20px);
            transition: opacity 0.7s ease, transform 0.7s ease;
        }
        [data-aos].aos-animate {
            opacity: 1;
            transform: translateY(0);
        }
        
        .container {flex: 1; position: relative; z-index: 3;}

        #loader {position: fixed;top:0;left:0;right:0;bottom:0;background:rgba(15,18,26,0.98);z-index:9999;display:flex;align-items:center;justify-content:center;flex-direction:column;}
        .loading-left-bg,.loading-right-bg{position:absolute;top:0;width:50%;height:100%;background:#22262c;transition:all 0.6s ease;}
        .loading-left-bg{left:0;}
        .loading-right-bg{right:0;}
        .spinner-box{text-align:center;}
        .loading-taichi svg{width:80px;height:80px;fill:#d83636;}
        .loading-word{margin-top:20px;color:#f56464;font-size:16px;letter-spacing:3px;}
        #loader.loading .loading-left-bg{transform:translateX(-100%);}
        #loader.loading .loading-right-bg{transform:translateX(100%);}
        #loader.loading{opacity:0;visibility:hidden;transition:all 0.6s ease;}

        #header-nav {
            width: 100%;
            background: rgba(28, 32, 42, 0.4);
            backdrop-filter: blur(10px);-webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 80, 80, 0.08);
            padding: 12px 0;
            position: sticky;
            top: 0;
            z-index: 99;
            display: flex;justify-content:center;align-items:center;
            transition: all 0.4s ease; /* 新增：导航栏隐藏/显示过渡动画 */
        }
        /* ✅ 新增样式：导航栏隐藏类 */
        #header-nav.hidden-nav {
            visibility: hidden;
            opacity: 0;
        }
        .main-nav-link-wrap {margin:0 12px;display:inline-block;}
        .main-nav-link {
            padding: 8px 18px;
            font-size:15px;color:#ccc;border-radius:20px;
            transition: all 0.4s ease;
        }
        .main-nav-link.active {
            background: rgba(216, 54, 54, 0.2);
            color: #f56464;font-weight:700;
        }
        .main-nav-link:hover:not(.active) {color:#f56464;}

        #content {
            width:100%;max-width:1200px;margin: 40px auto;
            padding:0 20px;
            position: relative;
            z-index: 5;
        }
        #main {flex:1; position: relative; z-index: 6;}

        #footer {
            width:100%;color:#999;font-size:13px;
            border-top:1px solid rgba(255,255,255,0.05);
            background: rgba(28, 32, 42, 0.4);
            backdrop-filter: blur(8px);-webkit-backdrop-filter: blur(8px);
            position: fixed;bottom: 0;left: 0;z-index: 98;
            display: flex;align-items: center;
            padding:12px 30px;height: 60px;
        }
        #footer a {color:#f56464;}
        #footer a:hover {text-decoration:underline;}
        .footer-right{
            display:flex;align-items:center;gap:8px;margin: 0 auto;
        }

        .music-player {
            display: flex;align-items:center;gap:10px;
            position: absolute; left: 30px; top: 50%; transform: translateY(-50%);
        }
        .music-btn {
            width:38px;height:38px;border-radius:50%;
            background: rgba(35, 40, 52, 0.92);backdrop-filter: blur(8px);
            border:1px solid rgba(245,100,100,0.25);color:#f56464;
            display:flex;align-items:center;justify-content:center;cursor:pointer;
            transition:all 0.4s ease;box-shadow:0 3px 10px rgba(0,0,0,0.15);font-size:0;position:relative;
        }
        .music-btn:hover {background:#d83636;color:#fff;transform: scale(1.08);border-color:#d83636;}
        .play-icon::before {content:'';width:0;height:0;border-top:8px solid transparent;border-bottom:8px solid transparent;border-left:13px solid currentColor;margin-left:2px;}
        .pause-icon::before {content:'';width:12px;height:14px;background:linear-gradient(to right, currentColor 0, currentColor 3px, transparent 3px, transparent 6px, currentColor 6px, currentColor 9px);}
        .music-text{font-size:12px;color:#bbb;}
        audio{display: none;}

        .sidebar-top {
            position:fixed;bottom:90px;right:30px;z-index:99;
            width:40px;height:40px;background:rgba(28, 32, 42, 0.8);
            backdrop-filter: blur(8px);-webkit-backdrop-filter: blur(8px);
            border-radius:50%;box-shadow:0 2px 12px rgba(0,0,0,0.15);
            display:flex;align-items:center;justify-content:center;cursor:pointer;
            transition:all 0.3s ease;border:1px solid rgba(255,255,255,0.08);
        }
        .sidebar-top:hover {background:#d83636;color:#fff;transform: translateY(-2px);}
        .arrow-up {font-size:18px;}

        /* ========== ✅ 核心修改 重中之重：滚动条悬浮置顶 不挤压页面空间 ✅ ========== */
        html {
            overflow-y: overlay; /* 核心属性：滚动条悬浮覆盖，不占用页面宽度 */
            scrollbar-width: thin;
            scrollbar-color: rgba(216, 54, 54, 0.6) rgba(22, 25, 29, 0.7);
        }
        /* 悬浮滚动条样式 - 保留原配色/圆角/hover效果 无任何改变 */
        ::-webkit-scrollbar {width: 8px;height: 8px;}
        ::-webkit-scrollbar-track {
            background: transparent; /* 轨道透明，悬浮必备 */
            border-radius: 10px;
            box-shadow: none;
        }
        ::-webkit-scrollbar-thumb {
            background: rgba(216, 54, 54, 0.6);
            border-radius: 10px;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 0 2px rgba(0,0,0,0.3);
        }
        ::-webkit-scrollbar-thumb:hover {background: rgba(245, 100, 100, 0.9);}
        ::-webkit-scrollbar-thumb:active {background: rgba(190, 30, 30, 0.9);}

        @media (max-width:768px) {
            #content {padding:0 20px;}
            .main-nav-link-wrap {margin:0 6px;}
            .sidebar-top {bottom:80px;right:20px;}
            #footer{padding:12px 15px;height:auto;flex-wrap:wrap;gap:8px;justify-content:center;}
            .music-text{display:none;}
            .file-grid {grid-template-columns: repeat(2, 1fr) !important;}
        }
        
        /* 个人荣誉标题样式 */
        .tab-nav {
            display: flex;justify-content: center;gap: 8px;margin: 0 auto 30px;
            padding: 8px;background: rgba(28,32,42,0.3);backdrop-filter: blur(8px);
            border-radius: 24px;border: 1px solid rgba(255,255,255,0.06);max-width: 600px;
        }
        .tab-item {
            padding: 10px 22px;border-radius: 20px;font-size:15px;color:#ccc;
            cursor: pointer;transition: all 0.4s ease;font-weight: 500;
        }
        .tab-item.active {
            background: rgba(216,54,54,0.2);color: #f56464;font-weight:700;
            border: 1px solid rgba(245,100,100,0.15);
        }
        
		.file-grid {
		    display: grid;
		    grid-template-columns: repeat(4, 1fr); /* 3 → 4  核心修改：一行显示4张 */
		    gap: 30px;/* 45px → 30px  间距微调：一行4张图片，间距缩小一点更协调不拥挤，可选改 */
		    padding: 10px 0;
		    width: 100%;
		    margin: 0 auto;
		}
        
        /* 磨砂玻璃卡片样式+悬浮特效 */
        .file-card {
            background: rgba(28,32,42,0.5);backdrop-filter: blur(8px);
            border: 1px solid rgba(255,255,255,0.06);border-radius: 10px;
            padding: 12px;display: flex;flex-direction: column;align-items: center;justify-content:center;
            cursor: pointer;transition: all 0.35s ease;height: 170px;position: relative;overflow: hidden;
        }
        .file-card:hover {
            transform: translateY(-5px) scale(1.02);
            border-color: rgba(245,100,100,0.3);
            background: rgba(28,32,42,0.7);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
		.file-card .card-img {
		    width: 100%;height: 130px;
		    object-fit: cover;border-radius: 6px;
		    margin-bottom: 10px;border:1px solid rgba(255,255,255,0.05);
		    /* ✅ 核心修复：必须加这个定位，让伪类蒙版只在图片范围内显示，不遮挡 */
		    position: relative;
		    opacity: 0.88;
		    filter: brightness(0.88) saturate(0.9);
		}
		/* 磨砂蒙版保留，视觉效果不变，层级正常 */
		.file-card .card-img::after {
		    content: '';
		    position: absolute;
		    top:0;left:0;width:100%;height:100%;
		    border-radius: 6px;
		    background: rgba(15, 18, 26, 0.2);
		    backdrop-filter: blur(1px);
		    z-index: 1;
		}
        .file-card .card-name {
            font-size:13px;color:#ddd;text-align:center;white-space:normal;
            word-break: break-all;line-height:1.4;max-width:100%;padding:0 4px;
        }
        
        /* 和首页新闻图片完全一致的预览动画样式 */
        .img-preview-mask {
            position: fixed;
            top: 0;left: 0;right: 0;bottom: 0;
            background: rgba(15,18,26,0.95);
            backdrop-filter: blur(10px);
            z-index: 999;
            display: flex;align-items: center;justify-content: center;
            padding: 20px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease;
        }
        .img-preview-mask.show {
            opacity: 1;
            pointer-events: all;
        }
        .preview-img {
            max-width: 90%;
            max-height: 90vh;
            border-radius: 10px;
            border: 2px solid rgba(255,255,255,0.1);
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
            transform: scale(0.85);
            transition: transform 0.45s ease-out;
        }
        .img-preview-mask.show .preview-img {
            transform: scale(1.0);
        }
        
        .close-preview {
            position: absolute;top: 30px;right: 30px;width: 40px;height: 40px;
            border-radius: 50%;background: rgba(216,54,54,0.8);color: #fff;
            display: flex;align-items:center;justify-content:center;cursor: pointer;
            font-size: 18px;transition: all 0.3s ease;
            z-index: 1000;
        }
        .close-preview:hover {background: #d83636;transform: scale(1.1);}
        
        /* 空内容提示 */
        .empty-tip{text-align:center;padding:60px 0;color:#999;font-size:15px;}
    </style>
</head>
<body>
    <div id="snow-container"></div>
    <div id='loader'>
        <div class="loading-left-bg loading-bg"></div>
        <div class="loading-right-bg loading-bg"></div>
        <div class="spinner-box">
            <div class="loading-taichi rotate">
                <svg width="150" height="150" viewBox="0 0 1024 1024" class="icon" xmlns="https://www.w3.org/2000/svg">
                    <path d="M303.5 432A80 80 0 0 1 291.5 592A80 80 0 0 1 303.5 432z" fill="#d83636" />
                    <path d="M512 65A447 447 0 0 1 512 959L512 929A417 417 0 0 0 512 95A417 417 0 0 0 512 929L512 959A447 447 0 0 1 512 65z M512 95A417 417 0 0 1 929 512A208.5 208.5 0 0 1 720.5 720.5L720.5 592A80 80 0 0 0 720.5 432A80 80 0 0 0 720.5 592L720.5 720.5A208.5 208.5 0 0 1 512 512A208.5 208.5 0 0 0 303.5 303.5A208.5 208.5 0 0 0 95 512A417 417 0 0 1 512 95z" fill="#d83636" />
                </svg>
            </div>
            <div class="loading-word">春天是她最爱的季节...</div>
        </div>
    </div>

    <div class="container">
        <nav id="header-nav">
            <span class="main-nav-link-wrap">
                <a class="main-nav-link" href="../index.html">首页</a>
            </span>
			<span class="main-nav-link-wrap">
			    <a class="main-nav-link active" href="mbs.html">My bookshelf</a>
			</span>
			<span class="main-nav-link-wrap">
			    <a class="main-nav-link" href="tool.html">Tool工具</a>
			</span>
        </nav>
		
        <div id="content">
            <section id="main">
                <div class="tab-content show" id="glory">
                    <div class="file-grid" id="glory-grid"></div>
                </div>

                <!-- 图片预览弹窗 -->
                <div class="img-preview-mask" id="previewMask">
                    <div class="close-preview" id="closePreview">×</div>
                    <img src="" alt="荣誉证书预览" class="preview-img" id="previewImg">
                </div>
            </section>
        </div>
    </div>

    <!-- 返回顶部按钮 -->
    <div class="sidebar-top" onclick="window.scrollTo({top:0,behavior:'smooth'})">
        <div class="arrow-up">↑</div>
    </div>

    <script>
        // 雪花飘落特效
        const snowContainer = document.getElementById('snow-container');
        const snowCount = 80;
        for(let i=0; i<snowCount; i++){
            const snow = document.createElement('div');
            snow.className = 'snowflake';
            snow.textContent = '❄️';
            snow.style.left = `${Math.random() * 100}vw`;
            snow.style.fontSize = `${8 + Math.random() * 8}px`;
            snow.style.animationDuration = `${8 + Math.random() * 15}s`;
            snow.style.animationDelay = `${Math.random() * 20}s`;
            snowContainer.appendChild(snow);
        }
        
		// ========== 核心优化+修复：导航点击 反向关闭动画 + 跳转逻辑 (完美版) ==========
		let isAnimating = false; // 防重复点击锁
		const navLinks = document.querySelectorAll('.main-nav-link');
		navLinks.forEach(link => {
		    link.addEventListener('click', function(e) {
		        // ✅ 新增：点击当前激活的按钮，直接返回不操作
		        if(this.classList.contains('active')) return;
		        e.preventDefault(); 
		        const targetHref = this.getAttribute('href');
		        if (isAnimating || !targetHref) return; 
		        
		        isAnimating = true;
		        const loader = document.getElementById('loader');
		        loader.classList.remove('loading'); 
		        document.body.style.overflow = 'hidden'; 
		        
		        setTimeout(() => {
		            window.location.href = targetHref; 
		            isAnimating = false;
		        }, 600);
		        // ✅ 新增：兜底重置，防止按钮卡死
		        setTimeout(() => isAnimating = false, 1000);
		    });
		});
		// ========== 导航跳转动画结束 ==========

        // 页面加载动画
        var time = null;
        var startLoading = () => {time = Date.now();document.getElementById('loader').classList.remove("loading");}
        var endLoading = () => {
            if (!time) {document.body.style.overflow = 'auto';document.getElementById('loader').classList.add("loading");}
            else {
                if (Date.now() - time > 500) {time = null;document.body.style.overflow = 'auto';document.getElementById('loader').classList.add("loading");}
                else {setTimeout(endLoading, 500 - (Date.now() - time));time = null;}
            }
        }
        window.addEventListener('DOMContentLoaded', endLoading);
        document.getElementById('loader').addEventListener('click', endLoading);

        // 和首页完全一致的 滚动监听动画核心 - 动态元素也生效
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                entry.target.classList.toggle('aos-animate', entry.isIntersecting);
            });
        }, {threshold: 0, rootMargin: '0px 0px -50px 0px'});

        // 核心配置：你的所有荣誉证书图片列表
        const imgTypes = ['jpg','jpeg','png'];
		const gloryImgList = [
		    {imgName: "第二十届计算机应用技能创新大赛三等奖.jpg",
imgUrl: "https://img.wjwj.top/2026/01/16/6519678644f9cd65c69355f61150791b.jpg"},
		    {imgName: "院系第八届算法竞赛特等奖.jpg",
imgUrl: "https://img.wjwj.top/2026/01/16/9a6615a4b0040fef3a7ed14b1ce50daa.jpg"},
		    {imgName: "2024ACM校赛.png",
imgUrl: "https://img.wjwj.top/2026/01/16/6fb0880af3d0df0c4fd1490445d9a5ac.png"},
		    {imgName: "英语四级.jpg",
imgUrl: "https://img.wjwj.top/2026/01/16/927ced1a01f69a3abf5374aebd10e9f3.jpg"},
		    {imgName: "25年天梯赛团队省三.png",
imgUrl: "https://img.wjwj.top/2026/01/16/64dc63c2da33c416e54a7bfd88639511.png"},
			{imgName: "25年蓝桥杯省一等奖.jpg",
imgUrl: "https://img.wjwj.top/2026/01/16/4a4774d669c0be8cfa15e7384fd1b39e.jpg"},
			{imgName: "国赛2025年码蹄杯本科院校赛道获奖证书.jpg",
imgUrl: "https://img.wjwj.top/2026/01/16/fd3699b33d3590165235d1a4c6d663ae.jpg"},
			{imgName: "2025年百度之星初赛获奖证书.jpg",
imgUrl: "https://img.wjwj.top/2026/01/16/2c2b1d3820f3ec4c0089e8927e97bbfd.jpg"},
			{imgName: "省赛2025年码蹄杯本科院校赛道获奖证书.jpg",
imgUrl: "https://img.wjwj.top/2026/01/16/19177eb555724abca302a844072a4c03.jpg"},
			{imgName: "2025蓝桥杯国赛优秀奖.png",
imgUrl: "https://img.wjwj.top/2026/01/16/af13c5fe73e572bc7ea7388eee3e44e5.png"},
			{imgName: "25年个人天梯赛国三.png",
imgUrl: "https://img.wjwj.top/2026/01/16/edbc313f629b0f2d72dd4d9aab2744c7.png"},
			{imgName: "张俊锋普通话证书.jpg",
imgUrl: "https://img.wjwj.top/2026/01/16/1c427313b1404a39364e6a7d77f8f019.jpg"},
			{imgName: "张俊锋计算机二级证书.png",
imgUrl: "https://img.wjwj.top/2026/01/16/42e4f13df30e058ba73f0b576e8f780b.png"},
			{imgName: "2025icpc.jpg",
imgUrl: "https://img.wjwj.top/2026/01/16/9590e27ebc80b4ad2a06c718fd6751f2.jpg"},
			{imgName: "张俊锋软考证书.png",
imgUrl: "https://img.wjwj.top/2026/01/16/6bc77e724a694f3609a56a00194af329.png"},
			{imgName: "24年河南省天梯赛团队三等奖.png",
imgUrl: "https://img.wjwj.top/2026/01/16/fdb66b068ce68fc98bb5023961d4a9b8.png"},
			{imgName: "24年蓝桥杯省三等奖.jpg",
imgUrl: "https://img.wjwj.top/2026/01/16/90f565a725e5c14e256403046ccc2678.jpg"},
			{imgName: "25年河南省团队天梯赛三等奖.png",
imgUrl: "https://img.wjwj.top/2026/01/16/64dc63c2da33c416e54a7bfd88639511.png"},
			// {imgName: "",
			//     imgUrl: ""},
		];

        window.onload = function(){
            // ✅ 修复：删掉第一个多余的 'mbs_glory/' 参数
            loadImgFiles('glory-grid', gloryImgList);
            bindPreviewEvent();
        }

        // ✅ 修复：删除多余的 folder 拼接，适配你的完整线上图片URL，保留所有功能
        function loadImgFiles(gridId, fileList) {
            const grid = document.getElementById(gridId);
            if(fileList.length === 0){
                grid.innerHTML = '<div class="empty-tip">暂无荣誉证书 ✨</div>';
                return;
            }
            // 遍历 自定义名称在前，图片链接在后 的数组
            fileList.forEach(item => {
                const img = new Image();
                // 1. 先创建卡片，添加加载占位样式
                const card = createImgCard(item.imgName, item.imgUrl);
                const cardImg = card.querySelector('.card-img');
                cardImg.classList.add('loading'); 
                // 2. 图片加载完成后，移除占位样式并插入页面，保留懒加载
                img.src = item.imgUrl;
                img.onload = () => {
                    cardImg.src = img.src; // 赋值正确的线上图片地址
                    cardImg.classList.remove('loading'); 
                    grid.appendChild(card);
                    observer.observe(card);
                }
            });
        }

        // 创建图片卡片 (保留无后缀文件名 + 修复地址错误)
        function createImgCard(name, imgUrl){
            const card = document.createElement('div');
            card.className = 'file-card';
            card.setAttribute('data-aos', 'fade-up');
            const fileNameOnly = name.substring(0, name.lastIndexOf("."));
            // ✅ 修复：直接赋值正确的图片地址，不再拼接多余路径，data-src同步正确地址
            card.innerHTML = `
                <img src="" alt="${fileNameOnly}" class="card-img" data-src="${imgUrl}">
                <div class="card-name">${fileNameOnly}</div>
            `;
            // ✅ 核心修复：预览时取【正确的src】而不是错误的data-src
            card.onclick = function(){
                showPreview(this.querySelector('.card-img').src);
            }
            return card;
        }

        // 绑定图片预览事件
        function bindPreviewEvent(){
            const previewMask = document.getElementById('previewMask');
            const closePreview = document.getElementById('closePreview');
            const previewImg = document.getElementById('previewImg');
            const headerNav = document.getElementById('header-nav'); // 获取导航栏

            closePreview.onclick = function(){
                previewMask.classList.remove('show');
                document.body.style.overflow = 'auto';
                headerNav.classList.remove('hidden-nav'); // ✅ 关闭预览：显示导航栏
            }

            previewMask.onclick = function(e){
                if(e.target === previewMask){
                    previewMask.classList.remove('show');
                    document.body.style.overflow = 'auto';
                    headerNav.classList.remove('hidden-nav'); // ✅ 点击空白处关闭：显示导航栏
                }
            }
        }

        // 和首页一致的图片预览动画触发
        function showPreview(src){
            const previewMask = document.getElementById('previewMask');
            const previewImg = document.getElementById('previewImg');
            const headerNav = document.getElementById('header-nav'); // 获取导航栏
            
            previewImg.src = src;
            const fullFileName = src.substring(src.lastIndexOf("/") + 1);
            const fileNameOnly = fullFileName.substring(0, fullFileName.lastIndexOf("."));
            previewImg.alt = fileNameOnly;
            
            previewMask.classList.add('show');
            document.body.style.overflow = 'hidden'; // ✅ 打开预览：隐藏滚动条
            headerNav.classList.add('hidden-nav'); // ✅ 打开预览：隐藏导航栏
        }
    </script>
</body>
</html>